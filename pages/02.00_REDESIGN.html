<head>
  <meta charset = "utf-8">
  <title>jQuery UI Datepicker functionality</title>
  <!-- Bootstrap core CSS -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
    crossorigin="anonymous"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">


  <!-- datepicker -->
  <link href = "https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css"
     rel = "stylesheet">
  <script src = "https://code.jquery.com/jquery-1.10.2.js"></script>
  <script src = "https://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
  <!-- Custom styles for this template -->
  <link href="../../educaixa-workspace/wars/educaixa-theme/src/main/webapp/css/base-planificador.css" rel="stylesheet" />
</head>
<body>
  <div class="container">
    <h1 class="typografy__one">Planificador de visites per a grups</h1>
    <div class="planificador__header">
      <ol class="steps-process">
      <li>1 <span> | Tria les activitats</span></li>
      <li class="active">2 <span>| Assigna groups i dates</span></li>
      <li>3 <span>| Trie els horaris</span></li>
      <li>4 <span>| Resum</span></li>
      </ol>
      <div class="planificador__content-description">
      <div>
        <p class="mb-2 typografy__three">Tria el group amb qué vols fer Iáctivitat i assigna-li una data aproximada.</p>
        <p class="planificador__list-course"><span class="color-educaixa-secundary">Activitat 1 </span>  Comunica´t. Taller déxpressió
          corporal</p>
        <p class="planificador__list-course"><span class="color-educaixa-secundary">Activitat 2 </span>  Comunica´t. Taller déxpressió
          corporal</p>
      </div>
      <div class="card-help">
        <img class="card-help__ico--help" src="../src/images/encuesta.png" />
        <div>
        <p>Necesitas ayuda para planificar?</p>
        <p>
          Llama al teléfono
          <span class="color-caixa-blue">93 456 78 90</span> o escribe a
          <u class="color-caixa-blue">pedidos@educaixa.com</u>
        </p>
        </div>
      </div>
      </div>
    </div>
  
    <div class="group-assignment__container">
      <h3 class=" typografy__two circular-Std-Book">
        <span class="circular-Std-Bold"> quins grups vols veni?</span>
        <span>Escull un máxim de dos groups per fer la cerca.</span>
      </h3>
      <p class="group-assignment__group-title">Grupo 1</p>
      <div class="group-assignment group-assignment__select-group">
      <div class=" form-group input-select-wrapper group-assignment__item--group" id="">
        <select class="form-select  " id="select-1" name="select-1" title="perfil-profesional"
        aria-errormessage="select-1Helper" aria-invalid="true">
        <option class="" disabled="" selected="" value="">Tria un dels teus grups</option>
        <option class="" value="">Opcion 1</option>
        <option class="" value="">Opcion 2</option>
        <option class="" value="">Opcion 3</option>
        <option class="" value="">Opcion 4</option>
        </select>
      </div>
      <div class="form-group input-select-wrapper group-assignment__item--companions" id="">
        <select class="form-select  error-field" id="select-2" name="select-2"
        title="perfil-profesional" aria-errormessage="select-2Helper" aria-invalid="true">
        <option class="" disabled="" selected="" value="">N° D´acompanyants</option>
        <option class="" value="">Opcion 1</option>
        <option class="" value="">Opcion 2</option>
        <option class="" value="">Opcion 3</option>
        <option class="" value="">Opcion 4</option>
        </select>
      </div>
      </div>
      <p class="group-assignment__group-title">Grupo 2</p>
      <div class="group-assignment group-assignment__select-group">
      <div class=" form-group input-select-wrapper group-assignment__item--group" id="">
        <select class="form-select  " id="select-1" name="select-1" title="perfil-profesional"
        aria-errormessage="select-1Helper" aria-invalid="true">
        <option class="" disabled="" selected="" value="">Tria un dels teus grups</option>
        <option class="" value="">Opcion 1</option>
        <option class="" value="">Opcion 2</option>
        <option class="" value="">Opcion 3</option>
        <option class="" value="">Opcion 4</option>
        </select>
      </div>
      <div class=" form-group input-select-wrapper group-assignment__item--companions" id="">
        <select class="form-select  error-field" id="select-2" name="select-2"
        title="perfil-profesional" aria-errormessage="select-2Helper" aria-invalid="true">
        <option class="" disabled="" selected="" value="">N° D´acompanyants</option>
        <option class="" value="">Opcion 1</option>
        <option class="" value="">Opcion 2</option>
        <option class="" value="">Opcion 3</option>
        <option class="" value="">Opcion 4</option>
        </select>
      </div>
      </div>
      <a class="color-educaixa-secundary group-assignment__link-form" href="#" data-toggle="collapse" data-target="#idForm">
      Vols crear un grup nou?
      </a>
      <div class="group-assignment__form collapse" id="idForm">
      <h3 class="mt-4 circular-Std-Bold typografy__two">Dades del nou grup</h3>
      <div class="col-lg-6 p-0 form-group input-text-wrapper">
        <label class="control-label" for="namegroup">
        second-surname
        </label>
        <input class="field form-control" id="namegroup" name="namegroup"
        placeholder="Pots posar un nom al goup, et eso per example" type="text" value="">
      </div>
      <div class="group-assignment__form-selects">
        <div class=" form-group" id="">
        <select class="form-select  " id="select-1" name="select-1" title="perfil-profesional"
          aria-errormessage="select-1Helper" aria-invalid="true">
          <option class="" value="" >Centre on esta vinculat aquest grup</option>
          <option class="" value="" >Opcion 1</option>
          <option class="" value="">Opcion 2</option>
          <option class="" value="">Opcion 3</option>
          <option class="" value="">Opcion 4</option>
        </select>
        </div>
        <div class=" form-group" id="">
        <select class="form-select  error-field" id="select-2" name="select-2"
          title="perfil-profesional" aria-errormessage="select-2Helper" aria-invalid="true">
          <option class="" value="">Nivell educatiu</option>
          <option class="" value="1">Opcion 1</option>
          <option class="" value="2">Opcion 2</option>
          <option class="" value="3">Opcion 3</option>
          <option class="" value="4">Opcion 4</option>
        </select>
        </div>
        <div class=" form-group" id="">
        <select class="form-select  " id="select-1" name="select-1" title="perfil-profesional"
          aria-errormessage="select-1Helper" aria-invalid="true">
          <option class="" >N° d´alumnes</option>
          <option class="" value="1">Opcion 1</option>
          <option class="" value="2">Opcion 2</option>
          <option class="" value="3">Opcion 3</option>
          <option class="" value="4">Opcion 4</option>
        </select>
        </div>
        <div class=" form-group" id="">
        <select class="form-select  error-field" id="select-2" name="select-2"
          title="perfil-profesional" aria-errormessage="select-2Helper" aria-invalid="true">
          <option class=""  >Idiomas</option>
          <option class="" value="1">Opcion 1</option>
          <option class="" value="2">Opcion 2</option>
          <option class="" value="3">Opcion 3</option>
          <option class="" value="4">Opcion 4</option>
        </select>
        </div>
      </div>
      <textarea id="input-rating-comment" name="" type="textarea"
        placeholder="Observaciones i/O restricciones a tener en el grupo" maxlength="750">
      </textarea>
      <div class="group-assignment__form-options">
        <div class="radio d-flex">
          <input class="field success-field" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
          <label class="form-check-label typografy__two" for="flexRadioDefault1">
            Sóc el responsable del grup 
          </label>
          </div>
          <div class="radio-email">
          <div class="radio">
            <input class="field success-field" type="radio" name="flexRadioDefault" id="flexRadioDefault2" checked>
            <label class="form-check-label  typografy__two" for="flexRadioDefault2">No sóc el responsable del grup, n'és</label>
          </div>
          <div class="col-lg-4 form-group input-text-wrapper">
            <label class="control-label" for="namegroup">
            </label>
            <input class="field form-control" id="namegroup" name="namegroup"
            placeholder="E-mail de la persona responsable" type="text" value="">
          </div>
          <span class="typografy__four color-gray radio-email-tag">*Ha d´estar registrat a educaixa</span>
          </div>
      </div>
  
  
      <div class="group-assignment__form-buttons">
        <button class="button__outline-dark button--light" id="" onclick="" type="button">
          <span class="lfr-btn-label">Cancela</span>
        </button>
        <button class="rounded button__secundary-outline button--light" id="" onclick="" type="button">
          <span class="lfr-btn-label">Guarda group</span>
        </button>
      </div>
  
      </div>
    </div>
    <div class="group-assignment__container">
      <h5 class="mb-4 typografy__two ircular-Std-Book">
      <span class="circular-Std-Bold">Assigna-li una data a l’activitat.</span> 
      Selecciona el dia o la setmana per realitzar l’activitat.
      </h5>
      <div class="mb-4 calendar__period-container">
      <div
        class="btn-group calendar__period-button"
        role="group"
        aria-label="Basic radio toggle button group"
      >
        <input
        type="radio"
        class="btn-check dayGridDay"
        name="btnradio"
        id="btnradio1"
        autocomplete="off"
        />
        <label class="btn btn-outline-primary" for="btnradio1"
        >Día</label
        >
        <input
        type="radio"
        class="btn-check dayGridWeek"
        name="btnradio"
        id="btnradio2"
        autocomplete="off"
        checked
        />
        <label class="btn btn-outline-primary" for="btnradio2"
        >Semana</label
        >
      </div>
      </div>
  
      <div class="mb-4 calendar__activity">
      <div class="filter-datepicker-wrapper">
        <div class="filter-datepicker">
          <div id="ui-datepicker-div"
            class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all calendar__datepicker">
          </div>
        </div>
      </div>
  
      <div class="calendar__detail">
        <p class="circular-Std-Book typografy__three calendar__day-selected">Has seleccionat el
         <span class="circular-Std-Bold">día 26 de gender 2019</span>
        </p>
        <div class="typografy__three calendar__detail-date">
        <p class="mb-3">En el calendari pots veure:</p>
        <div class="mb-3 d-flex">
          <div class="calendar__day calendar__day--coincidence">12</div>
          dies en que le activitast coincideixen
        </div>
        <div class="d-flex">
          <div class="calendar__day calendar__day--choose">22</div>
          dies en que le activitast coincideixen
        </div>
        </div>
      </div>
      </div>
    </div>
    <div class="col-lg-12 planificador__footer">
      <button class="button__secundary-outline" id="" onclick="" type="button">
        <span class="lfr-btn-label">Anterior</span>
      </button>
      <button class="button__secundary circular-Std-Bold button--disable" id="" onclick="" type="button">
        <span class="lfr-btn-label">Trie els horario</span>
      </button>     
    </div>
  </div>
</body>


<script>
        $(document).ready(function() {
          // Start styles 
          var jsArray = ["2/2/2021","9/2/2021"];

            $(".calendar__period-button input").click(function () {
              if ($(".dayGridDay").is(":checked")) {
                $(".ui-datepicker-current-day").parent().addClass("calendar__datepicker--day");
                //$('#ui-datepicker-div').addClass('calendar__datepicker--day');
              }
              if ($(".dayGridWeek").is(":checked")) {
                //$('#ui-datepicker-div').addClass('calendar__datepicker--week');
                $(".ui-datepicker-current-day")
                  .parent()
                  .addClass("calendar__datepicker--week");
              }
            });

          var selected = "";
            $("#ui-datepicker-div").datepicker({
                showOn: "button",
                buttonImageOnly: true,
                buttonText: "Select date",
                dateFormat: "dd/mm/yy",
                beforeShowDay: function (date) {
                  var d = date;
                  var curr_date = d.getDate();
                  var curr_month = d.getMonth() + 1; //Months are zero based
                  var curr_year = d.getFullYear();
                  var formattedDate = curr_date + "/" + curr_month + "/" + curr_year

                  if ($.inArray(formattedDate, jsArray) != -1){
                    return [true, 'activeClass'];
                  }
                    return [true, ''];
                },
                onSelect: function (d, inst) {
                  console.log("onSelect", d, inst);
                  $(this).change();
                  // inst.dpDiv.find('tr').addClass('claseonSelect');
                  // inst.dpDiv.eq(0).find('.ui-datepicker-current-day').parent('tr').addClass('calendar__datepicker--day');
                  // inst.dpDiv.eq(0).find('.ui-datepicker-current-day').parent('tr').addClass('calendar__datepicker--day');
                  //let test= inst.dpDiv.eq(0).children[1].children[1].find('.ui-datepicker-current-day').parent('tr').addClass('calendar__datepicker--day');
                  //
                  let holsa = inst.dpDiv.eq(0).children[1]; //.find('ui-datepicker-calendar');
                  // let test= inst.dpDiv.eq(0).children[1].find('.ui-datepicker-current-day').parent('tr').addClass('calendar__datepicker--day');
                  // console.log('test',test);
                  // console.log('holsa',holsa);
                  if ($(".ui-datepicker-current-day").length > 0) {
                    $(".ui-datepicker-current-day")
                      .parent()
                      .addClass("calendar__datepicker--week");
                  }

                  // $(".dayGridWeek").trigger("click");
                  // $(".datePickerUi").focus();
                  // $(".datePickerUi").blur();
                },
                afterShow: function (input, inst) {
                  console.log("afterShowt");

                  $(".ui-datepicker-current-day").addClass(
                    "calendar__datepicker--week"
                  );
                  $(this).addClass("afterShow");
                }
              });
            //end styles
        });
</script>
