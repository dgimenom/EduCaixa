<!DOCTYPE html>
<html lang="en">
  <head>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <title>EduCaixa Maqueta Custom</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
      crossorigin="anonymous"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
      crossorigin="anonymous"
    />
    <link href="../fullcalendar-5.5.0/lib/main.css" rel="stylesheet" />
    <script src="../fullcalendar-5.5.0/lib/main.js"></script>

    <!-- CSS DAILY CALENDAR -->
    <link href="src/css/dailyCalendar.css" rel="stylesheet" />

    <!-- Custom styles for this template -->
    <script src="src/js/main.js"></script>
    <link href="src/css/base.css" rel="stylesheet" />
  </head>

  <body>
    <div id="daily-calendar"></div>

    <script id="handlebars-daily-calendar" type="text/x-handlebars-template">
      <div class="time-day-container">
        <div class="fc-toolbar-chunk">
          <button
            class="fc-prev-button fc-button fc-button-primary"
            type="button"
            aria-label="prev"
            onclick="changeDay(-1)"
          >
            <span class="fc-icon fc-icon-chevron-left"></span>
          </button>
        </div>
        <div class="fc-toolbar-chunk">
          <h2 class="time-day-title">
            {{convertDaily date}}
          </h2>
          {{#if center}}
            <h4 class="time-day-subtitle">
              {{center}}
            </h4>
          {{/if}}
        </div>
        <div class="fc-toolbar-chunk">
          <button
            class="fc-next-button fc-button fc-button-primary"
            type="button"
            aria-label="next"
            onclick="changeDay(1)"
          >
            <span class="fc-icon fc-icon-chevron-right"></span>
          </button>
        </div>
      </div>
      <div class="daily-calendar-container">
        <div class="empty"></div>
        <div class="time">
          <p>
            09:00h
          </p>
          <p>
            10:00h
          </p>
          <p>
            11:00h
          </p>
          <p>
            12:00h
          </p>
          <p>
            13:00h
          </p>
          <p>
            14:00h
          </p>
          <p>
            15:00h
          </p>
          <p>
            16:00h
          </p>
          <p>
            17:00h
          </p>
          <p>
            18:00h
          </p>
        </div>
        <div class="activities">
          {{#unless activities}}
            <h5
              class="warning"
              style="margin: auto; color: #4176db; font-style: italic;"
            >
              No hi ha activitats per aquest dia.
            </h5>
          {{/unless}}
          {{#each activities}}
            <div
              class="activity"
              style="width: 100%; margin: 0 1rem; min-width: 12rem;"
            >
              <!-- ACTIVITY CONTAINER -->
              <div class="calendar__item p-0">
                {{#if matched}}
                  <div class="calendar__leyend blue"></div>
                {{else}}
                  <div class="calendar__leyend black"></div>
                {{/if}}
                <div class="calendar__info">
                  <div>
                    <p class="title">
                      <strong>
                        {{title}}
                      </strong>
                    </p>
                    <p class="maximum">
                      {{{product.capacity}}}
                    </p>
                    <p class="price">
                      {{{product.price}}}
                    </p>
                    {{#if promotions}}
                      <a class="discount mb-3 d-block calendar__modal-link">
                        <span class="item-activity__ico--porcent"></span>
                        Descompte
                      </a>
                      <div
                        class="card-course__element typografy__four calendar__modal"
                        id=""
                      >
                        <a class="calendar__modal-close">
                          x
                        </a>
                        <div>
                          <span class="item-activity__ico--porcent"></span>
                          <span>
                            Pack descompte
                          </span>
                        </div>
                        {{#each promotions}}
                          <p
                            id="{{id}}"
                            class="circular-Std-Book color-grayMedium circular-Std-Bold"
                          >
                            {{name}}
                          </p>
                        {{/each}}
                      </div>
                    {{/if}}
                  </div>
                  <a class="more-info link__blue calendar__modal-link">
                    Més informació
                  </a>
                  <div class="card-course__element calendar__modal" id="">
                    <a class="calendar__modal-close">
                      x
                    </a>
                    <div class="col-lg-12 p-0">
                      {{#if imageUrl}}
                        <div class="card-course__img">
                          <a href="{{friendlyUrl}}">
                            <img alt="" class="image" src="{{imageUrl}}" />
                          </a>
                        </div>
                      {{/if}}
                      <div>
                        <div
                          class="d-flex mb-1 typografy__five justify-content-between"
                        >
                          <span class="color-educaixa-secundary session-time">
                            Activitat |
                            <span class="circular-Std-Bold">
                              Visita guiada
                            </span>
                          </span>
                        </div>
                        <a
                          class="link__black link--no-underline"
                          href="{{friendlyUrl}}"
                        >
                          <h3 class="card-course__title">
                            {{title}}
                          </h3>
                        </a>
                        <p class="card-course__summary">
                          {{description}}
                        </p>
                      </div>
                      <div class="card-course__description">
                        <p class="circular-Std-Bold">
                          {{product.centerName}}
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- HIDE/SHOW LINK -->
              <a
                id="toggle-{{activityPlanId}}"
                class="toggle-link link__blue link--underline down-arrow"
                onclick="toggleSessions('{{activityPlanId}}')"
              >
                Mostra les sessions
              </a>
              <!-- SESSIONS CONTAINER -->
              <div class="sessions-mobile">
                <div id="sessions-{{activityPlanId}}" style="display: none">
                  {{#each sessions}}
                    {{#if startDatetimeString}}
                      <div
                        class="calendar__item large calendar__border--light-gray"
                      >
                        <div>
                          <p class="color-grayLight">
                            {{convertTime startDatetimeString}} - {{convertTime
                              endDatetimeString
                            }} h
                          </p>
                          <p class="mb-3 color-gray">
                            <span class="item-activity__ico--alert"></span>
                            {{maxCapacity}} places disponibles
                          </p>
                          <a href="#" class="link__black">
                            <span class="item-activity__ico--plus"></span>
                            Afegeix a la lista d´espera
                          </a>
                        </div>
                      </div>
                    {{else}}
                      <div class="calendar__item large calendar__border--gray">
                        <div>
                          <p class="color-educaixa-secundary">
                            {{convertTime startDatetimeString}} - {{convertTime
                              endDatetimeString
                            }} h
                          </p>
                          <p class="color-gray session-places">
                            {{maxCapacity}} places disponibles
                          </p>
                          <select
                            name="form-class"
                            class="form-select form-control"
                          >
                            <option value="">
                              Tria grup
                            </option>
                          </select>
                        </div>
                      </div>
                    {{/if}}
                  {{/each}}
                </div>
              </div>
            </div>
          {{/each}}
        </div>
        <div class="events" id="calendar-events">
          {{#each activities}}
            <div
              class="activity"
              style="width: 100%; margin: 0 1rem; min-width: 12rem;"
            >
              <div id="sessions-{{activityPlanId}}" style="position: relative;">
                {{#each sessions}}
                  {{#if (lte availability 0)}}
                    <div
                      class="calendar__item large calendar__border--light-gray"
                      style="position: absolute; margin-top: {{
                        convertOffset startDatetimeString
                      }}; height: {{
                        convertHeight startDatetimeString endDatetimeString
                      }};"
                    >
                      <div>
                        <p class="color-grayLight">
                          {{convertTime startDatetimeString}} - {{convertTime
                            endDatetimeString
                          }} h
                        </p>
                        <p class="mb-3 color-gray">
                          <span class="item-activity__ico--alert"></span>
                          Sense places disponibles
                        </p>
                        <a href="#" class="link__black">
                          <span class="item-activity__ico--plus"></span>
                          Afegeix a la lista d´espera
                        </a>
                      </div>
                    </div>
                  {{else}}
                    <div
                      class="calendar__item large calendar__border--gray"
                      style="position: absolute; margin-top: {{
                        convertOffset startDatetimeString
                      }}; height: {{
                        convertHeight startDatetimeString endDatetimeString
                      }};"
                    >
                      <div>
                        <p class="color-educaixa-secundary session-time">
                          {{convertTime startDatetimeString}} - {{convertTime
                            endDatetimeString
                          }} h
                        </p>
                        <p class="color-gray session-places">
                          {{availability}} places disponibles
                        </p>
                        <select
                          name="form-class"
                          class="form-select form-control"
                        >
                          <option value="">
                            Tria grup
                          </option>
                        </select>
                      </div>
                    </div>
                  {{/if}}
                {{/each}}
              </div>
            </div>
          {{/each}}
        </div>
      </div>
    </script>

    <!-- JS DAILY CALENDAR -->
    <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
    <script src="src/js/dailyCalendar.js"></script>
  </body>
</html>
